!function(t){var e,i={className:"autosizejs",append:"",callback:!1,resizeDelay:10},n=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=t('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];o.style.lineHeight="99px","99px"===t(o).css("lineHeight")&&n.push("lineHeight"),o.style.lineHeight="",t.fn.autosize=function(s){return this.length?(s=t.extend({},i,s||{}),o.parentNode!==document.body&&t(document.body).append(o),this.each(function(){function i(){var e,i;"getComputedStyle"in window?(e=window.getComputedStyle(d,null),i=d.getBoundingClientRect().width,t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,n){i-=parseInt(e[n],10)}),o.style.width=i+"px"):o.style.width=Math.max(f.width(),0)+"px"}function r(){var r={};if(e=d,o.className=s.className,l=parseInt(f.css("maxHeight"),10),t.each(n,function(t,e){r[e]=f.css(e)}),t(o).css(r),i(),window.chrome){var a=d.style.width;d.style.width="0px",d.offsetWidth,d.style.width=a}}function a(){var t,n;e!==d?r():i(),o.value=d.value+s.append,o.style.overflowY=d.style.overflowY,n=parseInt(d.style.height,10),o.scrollTop=0,o.scrollTop=9e4,t=o.scrollTop,l&&t>l?(d.style.overflowY="scroll",t=l):(d.style.overflowY="hidden",h>t&&(t=h)),n!==(t+=p)&&(d.style.height=t+"px",g&&s.callback.call(d,d))}function c(){clearTimeout(u),u=setTimeout(function(){var t=f.width();t!==y&&(y=t,a())},parseInt(s.resizeDelay,10))}var l,h,u,d=this,f=t(d),p=0,g=t.isFunction(s.callback),w={height:d.style.height,overflow:d.style.overflow,overflowY:d.style.overflowY,wordWrap:d.style.wordWrap,resize:d.style.resize},y=f.width();f.data("autosize")||(f.data("autosize",!0),("border-box"===f.css("box-sizing")||"border-box"===f.css("-moz-box-sizing")||"border-box"===f.css("-webkit-box-sizing"))&&(p=f.outerHeight()-f.height()),h=Math.max(parseInt(f.css("minHeight"),10)-p||0,f.height()),f.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===f.css("resize")||"vertical"===f.css("resize")?"none":"horizontal"}),"onpropertychange"in d?"oninput"in d?f.on("input.autosize keyup.autosize",a):f.on("propertychange.autosize",function(){"value"===event.propertyName&&a()}):f.on("input.autosize",a),!1!==s.resizeDelay&&t(window).on("resize.autosize",c),f.on("autosize.resize",a),f.on("autosize.resizeIncludeStyle",function(){e=null,a()}),f.on("autosize.destroy",function(){e=null,clearTimeout(u),t(window).off("resize",c),f.off("autosize").off(".autosize").css(w).removeData("autosize")}),a())})):this}}(window.jQuery||window.$);var __slice=[].slice;!function(t,e){var i;i=function(){function e(e,i){var n,o,s=this;for(n in this.options=t.extend({},this.defaults,i),this.$el=e,o=this.defaults)o[n],null!=this.$el.data(n)&&(this.options[n]=this.$el.data(n));this.createStars(),this.syncRating(),this.$el.on("mouseover.starrr","span",function(t){return s.syncRating(s.$el.find("span").index(t.currentTarget)+1)}),this.$el.on("mouseout.starrr",function(){return s.syncRating()}),this.$el.on("click.starrr","span",function(t){return s.setRating(s.$el.find("span").index(t.currentTarget)+1)}),this.$el.on("starrr:change",this.options.change)}return e.prototype.defaults={rating:void 0,numStars:5,change:function(t,e){}},e.prototype.createStars=function(){var t,e,i;for(i=[],t=1,e=this.options.numStars;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(this.$el.append("<span class='fa .fa-star-o'></span>"));return i},e.prototype.setRating=function(t){return this.options.rating===t&&(t=void 0),this.options.rating=t,this.syncRating(),this.$el.trigger("starrr:change",t)},e.prototype.syncRating=function(t){var e,i,n,o;if(t||(t=this.options.rating),t)for(e=i=0,o=t-1;0<=o?i<=o:i>=o;e=0<=o?++i:--i)this.$el.find("span").eq(e).removeClass("fa-star-o").addClass("fa-star");if(t&&t<5)for(e=n=t;t<=4?n<=4:n>=4;e=t<=4?++n:--n)this.$el.find("span").eq(e).removeClass("fa-star").addClass("fa-star-o");if(!t)return this.$el.find("span").removeClass("fa-star").addClass("fa-star-o")},e}(),t.fn.extend({starrr:function(){var e,n;return n=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var o;if((o=t(this).data("star-rating"))||t(this).data("star-rating",o=new i(t(this),n)),"string"==typeof n)return o[n].apply(o,e)})}})}(window.jQuery,window),$(function(){return $(".starrr").starrr()}),$(function(){$("#new-review").autosize({append:"\n"});var t=$("#post-review-box"),e=$("#new-review"),i=$("#open-review-box"),n=$("#close-review-box"),o=$("#ratings-hidden");i.click(function(o){t.slideDown(400,function(){$("#new-review").trigger("autosize.resize"),e.focus()}),i.fadeOut(100),n.show()}),n.click(function(s){s.preventDefault(),o.val(0),$(".choice").text(0),$(".your-choice-was").hide(),t.slideUp(300,function(){e.focus(),i.fadeIn(200)}),n.hide()}),$(".starrr").on("starrr:change",function(t,e){o.val(e),e?($(".your-choice-was").show(),1==e&&$(".choice").text("rất kém"),2==e&&$(".choice").text("kém"),3==e&&$(".choice").text("bình thường"),4==e&&$(".choice").text("tốt"),5==e&&$(".choice").text("rất tốt")):$(".your-choice-was").hide()}),$(".rating_form").validate({rules:{"rating[content]":{required:!0,minlength:50}}})});